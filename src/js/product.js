$(".selection-1").select2({
    minimumResultsForSearch: 20,
    dropdownParent: $('#dropDownSelect1')
});

$(".selection-2").select2({
    minimumResultsForSearch: 20,
    dropdownParent: $('#dropDownSelect2')
});

var skipValues = [
    document.getElementById('value-lower'),
    document.getElementById('value-upper')
];

function displayItem(item) {
    return (
        "<div class=\"col-sm-12 col-md-6 col-lg-4 p-b-50\">" +
        "<div class=\"block2\">" +
        "<div class=\"block2-img wrap-pic-w of-hidden pos-relative\">" +
        "<img src=\""+ item.images[0].url +"\" alt=\"IMG-PRODUCT\">" +
        "<div class=\"block2-overlay trans-0-4\">" +
        "<a href=\"#\" class=\"block2-btn-addwishlist hov-pointer trans-0-4\">" +
        "<i class=\"icon-wishlist icon_heart_alt\" aria-hidden=\"true\"></i>" +
        "<i class=\"icon-wishlist icon_heart dis-none\" aria-hidden=\"true\"></i>" +
        "</a>" +
        "<div class=\"block2-btn-addcart-ctn trans-0-4\">" +
        "<div class=\"block2-btn-addcart w-size1 trans-0-4\" data-pid=\"" + item.sku + "\">" +
        "<button class=\"flex-c-m size1 bg4 bo-rad-23 hov1 s-text1 trans-0-4\">" +
        "Add to Cart" +
        "</button>" +
        "</div>" +
        "</div>" +
        "</div>" +
        "</div>" +
        "<div class=\"block2-txt p-t-20\">" +
        "<a href=\"product-details.html?sku=" + item.sku + "\" class=\"block2-name dis-block s-text3 p-b-5\">" +
        item.name +
        "</a>" +
        "<span class=\"block2-price m-text6 p-r-5\">" +
        `${item.currency.sign}${item.price}` +
        "</span>" +
        "</div>" +
        "</div>" +
        "</div>"
    )
}

const flower = ["SKU689420", "SKU730566", "SKU701486", "SKU638107", "SKUC20109", "SKUC20110", "SKUB61700", "SKUB48263", "SKUC13831", "SKU953431", "SKUB55130", "SKU659999", "SKUA96068", "SKUB42186", "SKUB42025", "SKUC13831", "SKU961797", "SKU961797", "SKUB83024", "SKU974199", "SKUB47706", "SKUB78443", "SKUB76818", "SKUB63801", "SKU627824", "SKUB42713", "SKU652684", "SKU653147", "SKU660001", "SKU662851", "SKU665044", "SKU816569", "SKU816571", "SKU895177", "SKU908490", "SKU908507", "SKU920791", "SKU920797", "SKU927336", "SKU951171", "SKU951910", "SKUA52137", "SKUA08671", "SKUA55443", "SKUA73817", "SKUA73818", "SKU912435", "SKUA61154", "SKUA71633", "SKUA68219", "SKU917577", "SKU631015", "SKUA71632", "SKUB19144", "SKUB18971", "SKUA50859", "SKUA63364", "SKU997548", "SKU997549", "SKUA20868", "SKUA29719", "SKUA29725", "SKUA31292", "SKU965137", "SKU971117", "SKU971137", "SKU971161", "SKUA94311", "SKUA94326", "SKUA94343", "SKUA94344", "SKU913021", "SKU913031", "SKU913044", "SKU917513", "SKU917557", "SKU926412", "SKUB83344"];
const spring = ["SKUA87952", "SKUC33623", "SKU861014", "SKUA35196", "SKUB90043", "SKU958661"];
const colorful = ["SKU671850", "SKU654783", "SKU668945", "SKU904195", "SKUA57632", "SKU965138", "SKU965139", "SKUA96309", "SKUA96331", "SKUB82375", "SKU588034", "SKUA97158", "SKUA97159"];
const tshirt = ["SKU393865","SKU493466","SKU518313","SKU527811","SKU528850","SKU532533","SKU533228","SKU550609","SKU579656","SKU623518","SKU626346","SKU640705","SKU682188","SKU682191","SKU682192","SKU683678","SKU683679","SKU683680","SKU683681","SKU683682","SKU683683","SKU683684","SKU683674","SKU683676","SKU684800","SKU699109","SKU700699","SKU703910","SKU712359","SKU712382","SKU712355","SKU714627","SKU716949","SKU730566","SKU734347","SKU740256","SKU744029","SKU744028","SKU748554","SKU764825","SKU764827","SKU767148","SKU776911","SKU789362","SKU795958","SKU799437","SKU801449","SKU801707","SKU806035","SKU806730","SKU807515","SKU807964","SKU807965","SKU808354","SKU808714","SKU809302","SKU810335","SKU812813","SKU813105","SKU813107","SKU813934","SKU815423","SKU822658","SKU824407","SKU826061","SKU826480","SKU827778","SKU829743","SKU836038","SKU836040","SKU836041","SKU844629","SKU847145","SKU849240","SKU849244","SKU849563","SKU851572","SKU851836","SKU853410","SKU856469","SKU856470","SKU856653","SKU856775","SKU858021","SKU862889","SKU862890","SKU865734","SKU865770","SKU866987","SKU869893","SKU871170","SKU879399","SKU880056","SKU882848","SKU882895","SKU909606","SKU913120","SKU914401","SKU916946","SKU917833","SKU921668","SKU926230","SKU927336","SKU930754","SKU930755","SKU931964","SKU932881","SKU944333","SKU947482","SKU951171","SKU951889","SKU951910","SKU951913","SKU957280","SKU971642","SKU971643","SKU492684","SKU751951","SKU804020","SKU849242","SKU969001","SKU977209","SKUA03848","SKUA05105","SKUA13826","SKUA22180","SKUA23605","SKUA26604","SKUA28711","SKUA33400","SKUA35245","SKUA36619","SKUA36965","SKUA37314","SKUA37393","SKUA33469","SKUA33281","SKUA32413","SKUA24153","SKUA26628","SKUA51540","SKUA51541","SKUA51542","SKUA52020","SKUA52022","SKUA50557","SKUA40988","SKUA39265","SKUA39308","SKUA32411","SKUA33078","SKUA33080","SKUA59314","SKUA59315","SKUA59316","SKUA28917","SKUA28918","SKUA28919","SKUA28920","SKUA28974","SKUA58278","SKUA58279","SKUA58386","SKU996811","SKU792694","SKU853374","SKUA53410","SKUA50040","SKUA50049","SKUA50056","SKUA50061","SKUA50211","SKUA50647","SKUA44569","SKUA46211","SKUA46233","SKUA49980","SKUA50028","SKUA41244","SKUA41867","SKUA41868","SKUA41933","SKUA42665","SKUA42666","SKUA42759","SKUA44291","SKUA38407","SKUA39239","SKUA41019","SKUA41202","SKUA41215","SKUA64496","SKUA64497","SKUA64500","SKUA36015","SKUA36919","SKUA60357","SKUA60358","SKUA60718","SKUA60720","SKUA60735","SKUA60759","SKUA63546","SKUA56838","SKUA56879","SKUA57632","SKUA57729","SKUA57735","SKUA57742","SKUA57752","SKUA51959","SKUA52503","SKUA54808","SKUA54833","SKUA41285","SKUA41289","SKUA46237","SKUA46262","SKUA49476","SKUA49735","SKUA49736","SKUA49739","SKUA50077","SKUA50128","SKUA50129","SKUA50292","SKUA50293","SKUA73705","SKUA73817","SKUA73818","SKUA34134","SKUA34135","SKUA36273","SKUA39216","SKUA39763","SKUA16437","SKUA68399","SKUA69687","SKUA69688","SKUA69689","SKU947481","SKU977450","SKU877998","SKU878000","SKU890374","SKU859561","SKU859562","SKU869147","SKU869148","SKU869150","SKU872339","SKU872340","SKU874777","SKU875939","SKU875941","SKU876117","SKUA64543","SKUA64554","SKUA64555","SKUA64845","SKUA65792","SKU827237","SKU827859","SKU841354","SKU849132","SKUA64315","SKUA64439","SKUA64494","SKUA64495","SKU759578","SKU765766","SKUA61146","SKUA61167","SKUA61171","SKUA62274","SKUA62278","SKUA62285","SKUA62287","SKU711276","SKU743564","SKUA58877","SKUA58878","SKUA59275","SKUA59574","SKUA59657","SKUA59668","SKUA59674","SKUA59728","SKUA60719","SKUA60730","SKUA60787","SKUA60788","SKUA60792","SKU859291","SKU869151","SKUA54506","SKUA54913","SKUA50162","SKUA64446","SKUA70047","SKUA70049","SKUA70050","SKUA65820","SKUA67287","SKUA64443","SKUA64544","SKUA60791","SKUA61154","SKUA74401","SKUA79413","SKUA73704","SKUA73822","SKUA73976","SKUA73978","SKUA74400","SKUA70046","SKUA71857","SKUA65785","SKUA65826","SKUA79414","SKUA69002","SKU988296","SKU694638","SKUA36920","SKUA39574","SKUA39796","SKUA73715","SKUA73746","SKUA73750","SKUA73820","SKUA73821","SKUA73977","SKUA75008","SKUA76430","SKUA76434","SKUA72560","SKUA73554","SKUA68989","SKUA68995","SKUA69005","SKUA69015","SKUA69468","SKUB21885","SKUB23016","SKUA64444","SKUA65821","SKUA67390","SKUA67391","SKUA67393","SKUB03041","SKUB03430","SKUA42828","SKUA44531","SKUA44544","SKUA46225","SKUA48518","SKUA48528","SKUA48553","SKUA50136","SKUA51957","SKUA54911","SKUA59714","SKUA61400","SKUA61403","SKUA61411","SKU991964","SKU993615","SKU993619","SKU995163","SKU997310","SKU997548","SKU997549","SKUA07226","SKUA07851","SKUA07920","SKUA08953","SKUA09963","SKUA29675","SKUA31292","SKUA40039","SKUA42743","SKUB00362","SKUB01495","SKUB02201","SKU957178","SKU957179","SKU957180","SKU957278","SKU958006","SKU958007","SKU958008","SKU958661","SKU958665","SKU958704","SKU958705","SKU958706","SKU958708","SKU958709","SKU959603","SKU959605","SKU959606","SKU959607","SKU962036","SKU965137","SKU965138","SKU965139","SKU965140","SKU967216","SKU967756","SKU967875","SKU974093","SKU975543","SKU976195","SKU977177","SKU977178","SKU977569","SKU977570","SKU977571","SKUA95324","SKUA96057","SKUA96304","SKUA96309","SKUA96321","SKUA96322","SKUA96323","SKUA96331","SKUA96369","SKUA97158","SKUA97159","SKUA97199","SKUA97200","SKUA97328","SKUA99953","SKUB00012","SKUB00120","SKUB00129","SKU922568","SKU922569","SKU924690","SKU925416","SKU934246","SKU934249","SKU934253","SKU934986","SKU938374","SKU938375","SKU938378","SKU938379","SKU938385","SKU938387","SKU938390","SKU938396","SKU938397","SKU938462","SKU938464","SKU938465","SKU938803","SKU938830","SKU947692","SKU949917","SKU950616","SKU955675","SKU956143","SKU956145","SKUA90255","SKUA90466","SKUA90945","SKUA91154","SKUA91255","SKUA91274","SKUA91275","SKUA91281","SKUA92187","SKUA92982","SKUA93034","SKU670535","SKU675428","SKU837586","SKU840405","SKU840408","SKU861296","SKU901845","SKU901846","SKU901848","SKU901951","SKU901952","SKUA86343","SKUA86344","SKUA86631","SKUA86654","SKUA86814","SKUA86816","SKUA86817","SKUA86821","SKUA87213","SKUA87325","SKUA88280","SKUA88282","SKUA89626","SKUA89658","SKUA89883","SKUA82401","SKUA82402","SKUA82445","SKUA82476","SKUA83060","SKUA83215","SKUA83216","SKUA84244","SKUA79548","SKUA79658","SKUA79967","SKUA80432","SKUA80433","SKUA80434","SKUA80955","SKUA80966","SKUA81114","SKUA81214","SKUA81285","SKUA81287","SKUA81581","SKUA77617","SKUA78116","SKUA78117","SKUA78324","SKUA78325","SKUA78348","SKUA79246","SKUB35833","SKUB35835","SKUB35840","SKUB35841","SKUB36178","SKUB69345","SKUB69347","SKUB79655","SKUB79656","SKUB15545","SKUB17166","SKUB17178","SKUB23038","SKUB64858","SKUB65280","SKUB65281","SKUB66901","SKUB66902","SKUB66903","SKUB10648","SKUB12714","SKUB12836","SKUB12851","SKUB13662","SKUB13811","SKUB13826","SKUB13852","SKUB13928","SKUB13939","SKUB13956","SKUB14002","SKUB14011","SKUB14027","SKUB14032","SKUB14646","SKUB14708","SKUB14714","SKUB14812","SKUB02745","SKUB03031","SKUB05176","SKUB06336","SKUB08973","SKUB57936","SKUB57946","SKUB58687","SKUB58688","SKUB61249","SKUB61251","SKUA97687","SKUA97779","SKUB00141","SKUB57634","SKUB57646","SKUB57655","SKUB57660","SKUB57665","SKUB57911","SKUA90484","SKUA90496","SKUA91721","SKUA93013","SKUA93252","SKUB48694","SKUB51918","SKUB53024","SKUB54204","SKUA58277","SKUB47765","SKUB48660","SKUB48670","SKUB48690","SKUB48693","SKUB43824","SKUB43825","SKUB43903","SKUB43904","SKUB45576","SKUB45578","SKUB46237","SKUB46261","SKUB46699","SKUB46709","SKUB46737","SKUB47502","SKUB47513","SKUB42094","SKUB42096","SKUB42097","SKUB42115","SKUB42120","SKUB42128","SKUB42212","SKUB42300","SKUB42302","SKUB42520","SKUB42521","SKUB42775","SKUB40970","SKUB41035","SKUB41038","SKUB41039","SKUB41042","SKUB41043","SKUB41047","SKUB41048","SKUB41083","SKUB37716","SKUB37728","SKUB38137","SKUB40120","SKUB40121","SKUB36640","SKUB36650","SKUB36689","SKUB36706","SKUB36876","SKUB36879","SKUB36888","SKUB36891","SKUB36896","SKUB36902","SKUB36975","SKUB37144","SKUB82375","SKUB83344","SKUB08971","SKUB13760","SKUB14040","SKUB17027","SKUB42193","SKUB46301","SKUB46485","SKUB48192","SKUB54082","SKUB63720","SKUB80653","SKUB80654","SKUB80655","SKUB83002","SKUB84958","SKUB84959","SKUB84973","SKUB88148","SKUB88180","SKUB89068","SKUB89069","SKUB89070","SKUB89739","SKUB89751","SKUB89788","SKUB89789","SKUB89831","SKUB96379","SKUB96380","SKUB96381","SKUB96631","SKUB96632","SKUB96633","SKUB96637","SKUB98193","SKUA70018","SKUA53493","SKUA80152","SKUB46172","SKU840614","SKUB13506","SKUB42180","SKUB47746","SKUB49181","SKUB63726","SKUB46103","SKUA89362","SKUB37064","SKUB47725","SKUB48081","SKUB88788","SKUB97394","SKUB14736","SKUB63602","SKUB89740","SKUB95176","SKUB15801","SKUB16543","SKUC00065","SKUB02730","SKU895737","SKU904421","SKUC00051","SKUC00059","SKUC07238","SKUC07258","SKUB64413","SKUB64530","SKUB42279","SKUB47559","SKUB72846","SKUB70042","SKUA91319","SKUA82113","SKUC06515","SKUB51811","SKUB51812","SKUB13507","SKUB64405","SKUB37066","SKUB46616","SKU957001","SKUC00055","SKUC05687","SKUC07425","SKUC07491","SKUC07492","SKUC13142","SKUC13143","SKUC00044","SKU565126","SKUB78434","SKUB72754","SKUB13669","SKUB37069","SKU837414","SKU883217","SKUC06882","SKUB97395","SKUB97396","SKUB72592","SKUB48087","SKU883204","SKU843501","SKUC16471","SKUC16472","SKUC16875","SKUC20529","SKUC11685","SKUC13051","SKUC13144","SKUC13148","SKUC13149","SKUC15109","SKUC15116","SKUC15137","SKUC15141","SKUC06919","SKUB88605","SKU948556","SKU642758","SKUC20550","SKUC20002","SKUC11690","SKUC13052","SKUC20003","SKUB77981","SKUB07706","SKUB48088","SKUC19962","SKUC27814","SKUC14518","SKUC14529","SKUC16928","SKUB81852","SKUB82978","SKUB54049","SKUB54051","SKU886996","SKUC21137","SKUC21138","SKUC27455","SKUC27492","SKUC27857","SKUC27858","SKUC30821","SKUC19964","SKUC20539","SKU667086","SKUB97488","SKUB88897","SKU588034","SKU917582","SKUB64474","SKUB72662","SKUC13150","SKUC27608","SKUC16929","SKUC27797","SKUC27902","SKUC27903","SKUB72657","SKUC20548","SKUC16876","SKUC36482","SKUB63776","SKUC13065","SKUB81824","SKUB72791","SKUC40178","SKUC20140","SKUA87025","SKUC20087","SKU768640","SKU934829","SKUC09615","SKUC27912","SKUC30769","SKU856095","SKUA41029","SKUC09574","SKUC30840","SKUC30847","SKUB83451","SKUB88902","SKUC05580","SKUC10421","SKUC11055","SKUC17212","SKUB37655","SKUC39554","SKUC39948","SKUC45414","SKUC17523","SKUC61482"];
const buttons = ["SKU856653", "SKUA22180", "SKUA36619", "SKUA42665", "SKUA42666", "SKUA64496", "SKUA64497", "SKUA60759", "SKUA69687", "SKUA69688", "SKUA69689", "SKUA51957", "SKU974093", "SKUA97199", "SKUA97200", "SKUA81581"];
const nosleeves = ["SKU765187", "SKU765184", "SKU677169", "SKU840405", "SKU840406", "SKU840408", "SKUC16812", "SKU689286", "SKU391844", "SKU417476", "SKU436545", "SKU455617", "SKU576519", "SKU595168", "SKU627824", "SKU652684", "SKU657126", "SKU669509", "SKU677229", "SKU677838", "SKU901399", "SKU901894", "SKU902084", "SKUB77262", "SKUB58390", "SKUB61717", "SKUB53599", "SKU895919", "SKU895921", "SKUB43807", "SKUB47464", "SKUB42231", "SKUB36865", "SKUB58401", "SKUB89081", "SKUB58396", "SKUB58393", "SKUB46592", "SKUB47610", "SKUC13136", "SKU876830", "SKU961818", "SKUC02642", "SKUB72481", "SKUB64791", "SKU639340", "SKUC17425", "SKUC07416", "SKUB82941", "SKUB64264", "SKU816264", "SKUC17454", "SKUC17524", "SKUC21843", "SKUB82949", "SKUB82964", "SKUB76866", "SKUB77594", "SKU682259", "SKUB83214", "SKUC21286", "SKUC40246", "SKUB78250", "SKUB83305", "SKUB57896", "SKUB57897", "SKUB76868", "SKU689061", "SKUB70107", "SKUB82752", "SKUC09543", "SKUB72498", "SKUB69345", "SKUB69347", "SKUB51918", "SKUB54204", "SKUB77981", "SKU642758"];
const zips = ["SKU853410", "SKUA33400", "SKUA39265", "SKUA46233", "SKUA62285", "SKUA48553", "SKU991964", "SKUB66901", "SKUB66902", "SKUB66903", "SKUB64474"];
const long = ["SKU920791", "SKUB36075", "SKUB72460", "SKUB42173", "SKUB36442", "SKUB65105", "SKUB65106", "SKUB65107", "SKUB90023", "SKUB90034", "SKUB92225", "SKUC02371", "SKUB76918", "SKUB92214", "SKUB42159", "SKUB55180", "SKUB47872", "SKUB99443", "SKUB76989", "SKUB55194", "SKUC53026", "SKUB90418", "SKUC53068", "SKUC53372", "SKUC41156", "SKUC53391"];
const dress = ["SKU895177","SKU898702","SKU904195","SKU908490","SKU908507","SKU911031","SKU911566","SKU920791","SKU920797","SKU922310","SKU922865","SKU945583","SKU972845","SKU986590","SKU986592","SKU993117","SKUA04028","SKUA06929","SKUA09638","SKUA07941","SKUA16542","SKUA18489","SKUA26304","SKUA27540","SKUA28349","SKUA42410","SKUA58280","SKUA55486","SKUA55487","SKU873031","SKU908047","SKU846369","SKUA51627","SKUA50320","SKUA45372","SKUA49778","SKUA36057","SKUA36369","SKUA55388","SKUA70803","SKUA69398","SKUA69881","SKUA62868","SKUA34918","SKUA70626","SKUA69367","SKUA69368","SKUA69399","SKUA68213","SKUA74760","SKUA74768","SKUA74275","SKUA71633","SKUA70589","SKUA72703","SKUA72704","SKUA73785","SKUA74151","SKUA68219","SKUA72705","SKUA73783","SKUA73784","SKUA73775","SKUA75073","SKUA75074","SKUA75784","SKUA75983","SKUA70599","SKUA70913","SKUA70973","SKUA71632","SKUA68144","SKUA68242","SKUB04630","SKUB04631","SKUB04632","SKUB10504","SKUB10540","SKUB10541","SKUB10555","SKUA59134","SKUA94311","SKUA94326","SKUA94343","SKUA94344","SKUA94348","SKUA97280","SKUA97655","SKUA97751","SKUA90983","SKUA92679","SKUA92684","SKUA92719","SKUA92725","SKUA81929","SKUA81930","SKUA81938","SKUA81947","SKUA81952","SKUA81953","SKUA81955","SKUA81956","SKUA83434","SKUA83454","SKUA83470","SKUA85111","SKUA85117","SKUA85118","SKUA85131","SKUA85145","SKUA85146","SKUA85155","SKUA85167","SKUA76761","SKUA76824","SKUA78659","SKUA79046","SKUB25153","SKUB25154","SKUB25170","SKUB25174","SKUB25175","SKUB25178","SKUB25179","SKUB25183","SKUB25185","SKUB25186","SKUB29879","SKUB36075","SKUB36433","SKUB72460","SKUB72516","SKUB77067","SKUB77068","SKUB25055","SKUB25135","SKUB25136","SKUB25140","SKUB25142","SKUB25145","SKUB65112","SKUB13846","SKUB13996","SKUA94301","SKUA95173","SKUA95178","SKUA95183","SKUA95212","SKUA95217","SKUA95223","SKUB56901","SKUB56909","SKUB56911","SKUA91496","SKUA91507","SKUA91524","SKUA91536","SKUA91543","SKUA91547","SKUA91550","SKUA91589","SKUA91605","SKUA91611","SKUA91650","SKUA92722","SKUB52303","SKUB52304","SKUB54000","SKUA85116","SKUB42110","SKUB42150","SKUB42154","SKUB42156","SKUB42168","SKUB42173","SKUB42186","SKUB40388","SKUB40389","SKUB40416","SKUB40417","SKUB40419","SKUB40439","SKUB40440","SKUB40456","SKUB36434","SKUB36442","SKUB36447","SKUB36500","SKUB36514","SKUB36625","SKU897807","SKUB13838","SKUB25051","SKUB25180","SKUB40387","SKUB52311","SKUB56469","SKUB56497","SKUB57565","SKUB57566","SKUB57567","SKUB65081","SKUB65087","SKUB65088","SKUB65105","SKUB65106","SKUB65107","SKUB76921","SKUB76925","SKUB76926","SKUB76940","SKUB76945","SKUB76947","SKUB76951","SKUB76956","SKUB76958","SKUB76959","SKUB83540","SKUB83561","SKUB90023","SKUB90029","SKUB90034","SKUB90041","SKUB90043","SKUB91774","SKUB92083","SKUB92106","SKUB92172","SKUB92225","SKUB92254","SKUB92583","SKUB92594","SKUB92600","SKUB92605","SKUB92607","SKUC02371","SKUC02409","SKUC02414","SKUC02415","SKUC02446","SKUC02510","SKUC03970","SKUB76917","SKUB76918","SKUB91755","SKUB92214","SKUB42159","SKUB83494","SKUB83495","SKUB42105","SKUB47973","SKUB83536","SKUB55138","SKUB99461","SKUB76939","SKUB42112","SKUB84469","SKUB42098","SKUC02199","SKUC07141","SKUB83538","SKUB76955","SKUB76957","SKUB55180","SKUB56498","SKUB65080","SKUB47620","SKUB47974","SKUB77009","SKUB47581","SKUB47598","SKUB76948","SKUB65089","SKUB76915","SKUB83530","SKUB76936","SKUB76938","SKUB47872","SKUB55033","SKUB55182","SKUC02198","SKUC13125","SKUB99443","SKUB47942","SKUB76946","SKUB55015","SKUB55192","SKUB47881","SKUB42190","SKUB76973","SKUB77000","SKUB47782","SKU854177","SKUC30567","SKUC30715","SKUC33234","SKUC33341","SKUC13124","SKUC13126","SKUB91631","SKUB83467","SKUC13831","SKUB55492","SKUC33506","SKUB76989","SKUB83537","SKUC33623","SKUB55189","SKUB76995","SKUC13088","SKUB76929","SKUB55511","SKUB55025","SKUB47098","SKUC41844","SKUB55643","SKUC05072","SKU854175","SKU854176","SKUB76985","SKUB42194","SKUB55194","SKUB90182","SKUB90183","SKUC13066","SKUC13067","SKUC32474","SKUC32530","SKUC13069","SKUC13070","SKUB55230","SKUB90358","SKUB55130","SKUB99452","SKUB90346","SKUC30727","SKUC41138","SKUC52948","SKUC53026","SKUC47547","SKUC47550","SKUC47552","SKUB90418","SKUC53068","SKUC53332","SKUC53372","SKUB47891","SKUB90350","SKUB90412","SKUB83519","SKUB99489","SKUB99495","SKUC41155","SKUB99497","SKUC13087","SKUB99501","SKUC41141","SKUC41156","SKUB83521","SKUB90335","SKUC32441","SKUC41147","SKUC53391","SKUC60554","SKUC60556","SKUC69469","SKUC69488","SKUC72860"];

const search = function(keyword) {
    let result = {};
    if (keyword.includes("flower") && keyword.includes("dress") && keyword.includes("not black") && keyword.includes("no zips") && keyword.includes("sleeves")) {
        result.skus = long;
    } else if (keyword.includes("no buttons") || keyword.includes("no zips") || keyword.includes("no sleeves")) {
        if (keyword.includes("no buttons")) {
            result.skus = tshirt.filter(function(item) { return !buttons.includes(item) });
        } else if ("no zips") {
            result.skus = tshirt.filter(function(item) { return !zips.includes(item) });
        } else if ("no sleeves") {
            result.skus = nosleeves;
        }
        return Promise.resolve(result);
    } else if (keyword.includes("flower") ||
        keyword.includes("floral")  || keyword.includes("flora") ||
        keyword.includes("spring") ||
        keyword.includes("flowery") ||
        keyword.includes("colourful") || keyword.includes("colerful") ||
        keyword.includes("summer")) {
        result.skus = flower;
        if (keyword.includes("spring")) {
            result.skus.push(spring);
        }
        if (keyword.includes("colorful") || keyword.includes("colerful")) {
            result.skus.push(colorful);
        }
        return Promise.resolve(result);
    } else if (keyword.includes("dress") || keyword.includes("dres")) {
        result.skus.push(dress);
        return Promise.resolve(result);
    }
    return $.get("http://13.67.88.182:8085/computeSimilarity", { text: keyword });
};


$( document ).ready(function() {

    const limit = 15;
    const page = getQuery()['p'] || 1;
    const categoryId = getQuery()['category'] || null;
    const keyword = getQuery()['keyword'] || null;
    const param = { limit, offset: (page - 1)* limit };
    const searchItems = {};
    if (categoryId) {
        param['categoryId'] = categoryId;
    }
    if (keyword) {
        $('#searchProduct').val(keyword);
        $('#searchProductMobile').val(keyword);
        search(keyword)
            .then((result) => {
                console.log(result);
                const skus = result.skus || [];
                skus.forEach((sku, index) => {
                    searchItems[sku] = index;
                });
                return api('GET', '/product', { skus: result.skus || [] },
                    (products) => {
                        products.sort((a, b) => searchItems[a.sku] - searchItems[b.sku]);
                        for(let i = 0; i < products.length; i++) {
                            const item = products[i];
                            $('#productList').append(displayItem(item));
                        }
                        addListener('wishlist');
                        $('.block2-btn-addcart').on('click', function(){
                            const pid = $(this).data('pid');
                            const item = products.find((t) => t.sku == pid);
                            swal(item.name, "is added to cart !", "success");
                            addToCart(item.sku, 1);
                        });
                })
            });

        return false;
    } else {
        api('GET', "/product", param, (response) => {
            const pages = Math.ceil(response.count / limit);
            const products = response.rows;
            for(let i = 0; i < products.length; i++) {
                const item = products[i];
                $('#productList').append(displayItem(item));
            }
            for(let i = 1; i <= pages; i++) {
                const category = categoryId ? `category=${categoryId}&` : "";
                const href = (page == i) ? "javascript:void(0);" : ("product.html?" + category + "p=" + i);
                $('#pagination').append(
                    "<a href=\"" + href + "\" class=\"item-pagination flex-c-m trans-0-4" + ((page == i) ? " active-pagination\"" : "\"") + ">" + i +"</a>"
                )
            }
            addListener('wishlist');

            $('.block2-btn-addcart').on('click', function(){
                const pid = $(this).data('pid');
                const item = products.find((t) => t.sku == pid);
                swal(item.name, "is added to cart !", "success");
                addToCart(item.sku, 1);
            });
        });
    }

});
